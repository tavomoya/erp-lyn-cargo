<div class="container-fluid">
	<div class="row">
		<div class="page-header">
			<h1>Cotizaci&oacute;n</h1>
			<div class="pull-right btn-container">
					<toaster-container toaster-options="{'time-out': 2000, 'close-button':true, 'animation-class': 'toast-top-center'}"></toaster-container>
					<button class="btn btn-default" ng-click="goBack()">
						<i class="fa fa-arrow-left"></i>
						Regresar
					</button>
					<button class="btn btn-primary" type="submit" form="quoteForm">
						<i class="fa fa-save"></i>
						Guardar
					</button>
			</div>
		</div>
	</div>
	
	<div class="row">
		<!-- Tabs -->
		<ul class="nav nav-tabs">
			<li ng-class="{'active': activeTab == 1}"><a ng-click="activeTab = 1" data-toggle="tab">Datos Carga</a>
			</li>
			<li ng-class="{'active': activeTab == 2}"><a ng-click="activeTab = 2" data-toggle="tab">Items</a>
			</li>
		</ul>	
		<form class="form-horizontal" role="form" name="quoteForm" id="quoteForm" ng-submit="saveQuote(quoteForm)" novalidate>	
		<div class="tab-content">
			<div class="tab-pane active">
				<div ng-if="activeTab == 1">
					<br>
					<!--<form class="form-horizontal" role="form" name="quoteForm" id="quoteForm" ng-submit="saveQuote(quoteForm)" novalidate>-->
						<div class="form-group">
							<label class="col-xs-2 control-label">Cliente:</label>
							<div ng-class="{'has-error': quoteForm.client.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4"> 
									<select class="form-control" name="client" id="client" ng-model="quote.client" ng-options="(i.firstName+' '+i.lastName) for i in client track by i._id" required>
									</select>	
									<p ng-show="quoteForm.client.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div> 
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Shipper:</label>
							<div ng-class="{'has-error': quoteForm.shipper.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<input type="text" class="form-control" name="shipper" id="shipper" ng-model="quote.to" required>
									<p ng-show="quoteForm.shipper.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Moneda:</label>
							<div ng-class="{'has-error': quoteForm.currency.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<select class="form-control" name="currency" id="currency" ng-model="quote.currency" ng-options="(i.cc+' - '+i.name) for i in currency track by i._id" required>
									</select>
									<p ng-show="quoteForm.currency.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Lugar de Embarque:</label>
							<div ng-class="{'has-error': quoteForm.loadingPort.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<select class="form-control" name="loadingPort" id="loadingPort" ng-model="quote.loadingPort" ng-options="i.description for i in loadingPort track by i._id" required>
									</select>
									<p ng-show="quoteForm.loadingPort.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Lugar de Desembarque:</label>
							<div ng-class="{'has-error': quoteForm.dischargePort.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<select class="form-control" name="dischargePort" id="dischargePort" ng-model="quote.dischargePort" ng-options="i.description for i in dischargePort track by i._id" required>
									</select>
									<p ng-show="quoteForm.dischargePort.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Termino(s):</label>
							<div ng-class="{'has-error': quoteForm.salesTerm.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<input type="text" class="form-control" name="salesTerm" id="salesTerm" ng-model="quote.salesTerm" required>
									<p ng-show="quoteForm.salesTerm.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">ETS / ETA:</label>
							<div ng-class="{'has-error': quoteForm.departureDate.$invalid && quoteForm.$submitted}">
								<div class="col-xs-2">
									<input type="date" class="form-control" name="departureDate" id="departureDate" ng-model="quote.departureDate" required>
									<p ng-show="quoteForm.departureDate.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
							<div ng-class="{'has-error': quoteForm.landingDate.$invalid && quoteForm.$submitted}">
								<div class="col-xs-2">
									<input type="date" class="form-control" name="landingDate" id="landingDate" ng-model="quote.landingDate" required>
									<p ng-show="quoteForm.landingDate.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-2 control-label">Descripcion Mercancia:</label>
							<div ng-class="{'has-error': quoteForm.goods.$invalid && quoteForm.$submitted}">
								<div class="col-xs-4">
									<textarea class="form-control" name="goods" id="goods" ng-model="quote.goods"></textarea>
									<p ng-show="quoteForm.goods.$invalid && quoteForm.$submitted" class="help-block">Este campo es requerido.</p>
								</div>
							</div>
						</div>
					<!--</form> -->
				</div>
				<div ng-if="activeTab == 2">
					<br>
					<div class="row">
							<div class="table-responsive">
								<table class="table table-striped table-bordered table-hover">
									<thead>
										<tr>
											<th></th>
											<th>Item</th>
											<th>Precio</th>
											<th>Impuesto (%)</th>
											<th>Total</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="detail in quote">
											<td class="delete" ng-click="borrarItem(item)">
												<span ng-show="hover">
													<i class="fa fa-times"></i>
												</span>
											</td>
											<td class="editable">
												<select class="table-editable-select" ng-model="detail.item" ng-options="items.name for items in item track by items._id "></select>
											</td>
											<td class="editable">
												<input type="text" ng-model="detail.item.price" value="detail.item.price">
											</td>
											<td>-</td>
											<td>$3,000.00</td>
										</tr>
										<!--Esta parte hay que profundizarla mas adelante-->
										<tr>
											<td colspan="2" class="borderless"></td>
											<td>Total Impuesto: $0.00</td>
											<td>Subtotal:$3,000.00</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					<div class="col-lg-4">
						<button class="btn btn-default">Guardar <i class="glyphicon glyphicon-ok"></i></button>
					</div>
				</div>	
			</div>	
		</div>
	</form>
	</div>
</div>